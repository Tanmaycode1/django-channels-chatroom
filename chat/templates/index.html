{% extends 'base.html' %}

{% block content %}
    <h3>Welcome, {{ user.username }}!</h3>




    <div class="card mt-5">
        <div class="card-body" style="background-color: #FDF5E6;">
          <h5 class="card-title mb-3"> New Room</h5>
          <div class="input-group input-group-sm mb-2">
            <input type="text" class="form-control" id="roomName" name="roomName" placeholder="Room Name" required/>
            <div class="input-group-append">
              <button type="button" class="btn btn-primary" onclick="createRoom(event)">
                <i class="fa fa-plus-square fa-fw"></i>
                <span class="d-none d-sm-inline"> Create</span>
              </button>
            </div>
          </div>          
          <small>* Only AlphaNumeric Room Names are allowed. Spaces and other characters will be removed.</small>
        </div>
    </div>

    <script>
        function createRoom(event) {
          event.preventDefault();
          let words = document.getElementById('roomName').value
            .replace(/[^a-zA-Z0-9 ]/g, '').split(' ');
          let roomName = words.map(word => word.charAt(0).toUpperCase() + word.slice(1)).join('');
          window.location.href = '/chat/' + encodeURIComponent(roomName);
        }
    </script>
{% endblock %}
